<h1 mat-dialog-title>
  <span class="centeredHeader" *ngIf="value < 100"> Preparing images and content for summary report. . .</span>
  <span class="centeredHeader" *ngIf="value > 99"> Ready to download!</span>
</h1>
<mat-dialog-content>
  <div class="wrapper">
    <div class="map">
      <h4>Geographic Context:</h4>
      <div id="resultsMap">
      </div>
      <mat-progress-bar mode="determinate" [value]="value" id="bar"></mat-progress-bar>
      <span *ngIf="loadingData">
        <mat-spinner [diameter]=20 style="margin: 0 auto;"></mat-spinner>
        <span>Generating report...</span>
      </span>
    </div>
    <!-- <br> -->


    <div class="legend" id="legendImage">
      <div>
        <div id="mapLocationNote">Events Mapped to Center of County</div>

        <label class="legend-label">Event Type</label>
        <label class="legend-hint">Indicated by shape</label>

        <div class='legend-icon'>
          <div style='margin-left: 0px !important;' class='wmm-circle wmm-black wmm-icon-noicon wmm-icon-white wmm-size-15'></div>
          <label>Mortality/Morbidity</label>
        </div>
        <div class='legend-icon'>
          <div style='margin-left: 3px !important;' class='wmm-diamond wmm-black wmm-icon-noicon wmm-icon-white wmm-size-14'></div>
          <label>Surveillance</label>
        </div>

        <label class="legend-label">Event Record Status</label>
        <label class="legend-hint">Indicated by white center</label>

        <div class='legend-icon'>
          <div style='margin-left: 0px !important;' class='wmm-circle wmm-black wmm-icon-circle wmm-icon-white wmm-size-15'></div>
          <label>Incomplete</label>
        </div>
        <div class='legend-icon'>
          <div style='margin-left: 0px !important;' class='wmm-circle wmm-black wmm-icon-noicon wmm-icon-white wmm-size-15'></div>
          <label>Complete</label>
        </div>

        <label class="legend-label">Event Count in County</label>
        <label class="legend-hint">Indicated by number</label>

        <label class="legend-label">Animal Type</label>
        <label class="legend-hint">Indicated by color</label>

        <div class='legend-icon'>
          <div class='wmm-square wmm-red wmm-icon-noicon wmm-icon-white wmm-size-20 wmm-borderless'></div>
          <label>Mammal</label>
        </div>

        <div class='legend-icon'>
          <div class='wmm-square wmm-yellow wmm-icon-noicon wmm-icon-white wmm-size-20 wmm-borderless'></div>
          <label>Bird</label>
        </div>

        <div class='legend-icon'>
          <div class='wmm-square wmm-green wmm-icon-noicon wmm-icon-white wmm-size-20 wmm-borderless'></div>
          <label>Reptile/Amphibian</label>
        </div>

        <div class='legend-icon'>
          <div class='wmm-square wmm-sky wmm-icon-noicon wmm-icon-white wmm-size-20 wmm-borderless'></div>
          <label>Fish</label>
        </div>

        <div class='legend-icon'>
          <div class='wmm-square wmm-purple wmm-icon-noicon wmm-icon-white wmm-size-20 wmm-borderless'></div>
          <label>Other</label>
        </div>

        <div class='legend-icon'>
          <div class='wmm-square wmm-mutedblue wmm-icon-noicon wmm-icon-white wmm-size-20 wmm-borderless'></div>
          <label>Multiple Types</label>
        </div>
        <!-- <div class='legend-icon'>
              <div class='wmm-square wmm-mutedblue wmm-icon-noicon wmm-icon-white wmm-size-20 wmm-borderless'></div>
              <label style="font-style: italic;">Multiple</label>
            </div> -->


        <!-- <label class="legend-hint">Number indicates event count</label>
            <label class="legend-hint">White center indicates incomplete event</label> -->

      </div>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions>

  <div class="detail-section-buttons">
    <button mat-raised-button color="primary" class="event-detail-action-button"
      (click)="downloadResultsSummaryReport(); clicked = true" [disabled]="value < 99 || clicked">
      <i class="material-icons">archive</i> Download Results Summary Report</button>
    <button mat-button color="warn" (click)="this.resultsSummaryReportDialogRef.close('cancel');">
      <mat-icon>cancel</mat-icon>&nbsp;Cancel
    </button>

  </div>

  <mat-progress-bar mode="indeterminate" *ngIf="loadingReport"></mat-progress-bar>
</mat-dialog-actions>
